<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Exam 2</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.0.13/css/fa-svg-with-js.css" rel="stylesheet" />
<script src="site_libs/font-awesome-5.0.13/js/fontawesome-all.min.js"></script>
<script src="site_libs/font-awesome-5.0.13/js/fa-v4-shims.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Stat 223</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="syllabus.html">Syllabus</a>
</li>
<li>
  <a href="notes.html">Notes</a>
</li>
<li>
  <a href="assignments.html">Assignments</a>
</li>
<li>
  <a href="resources.html">Resources</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Exam 2</h1>
<h4 class="date"><em>Due 2018-10-22 at 11:59pm</em></h4>

</div>


<ul>
<li><p>Follow <a href="https://classroom.github.com/a/BuYpBXRu">this link</a> to create your repository for Exam 2.</p></li>
<li><p>Once your repository is created, create a new RStudio project based on that repository. Note: There will be two files already in your repository - <code>alabama.csv</code> and <code>iqr.R</code>.</p></li>
<li><p>There are two questions for this exam, each with multiple parts. Please look through each question to make sure you understand what is being asked. If you need further clarification, please reach out to James or one of the TAs.</p></li>
<li>Before you start, please do the following to ensure that everything is working properly with git and GitHub:
<ul>
<li>Create a file in your repository called <code>alabama.R</code> or <code>alabama.Rmd</code>. If you would like you can also change <code>iqr.R</code> into <code>iqr.Rmd</code>.</li>
<li>Add a single comment to the top of each file (ie <code># This is exam 2</code> or something like that)</li>
<li>Save your files and commit the changes to git using RStudio</li>
<li>Push your committed changes to GitHub</li>
<li><strong>Verify that your files have been successfully pushed to GitHub.</strong> You can do this by visiting your GitHub repository in a web browser and making sure you see the three files you just created, committed, and pushed.</li>
<li>If you have any issues with the steps above, please reach out to James</li>
</ul></li>
<li><p>Make sure that you follow proper <a href="coding-standards.html">coding standards</a>. Pay particularly close attention to code formatting (it should look nice) and don’t duplicate code - look to create functions whenever you can.</p></li>
</ul>
<div id="iqr-45-points" class="section level2">
<h2>IQR (45 points)</h2>
<p>The interquartile range (IQR) is the 75th percentile minus the 25th percentile and is a measure of spread.</p>
<ol style="list-style-type: decimal">
<li>Create a function called <code>iqr</code> that takes a single numeric vector, <code>x</code>, as an argument and returns the interquartile range of <code>x</code>. You should <strong>not</strong> use the built in <code>IQR()</code> function in R (10 points).</li>
<li>Use your function defined above to calculate the IQR for the data provided in <code>iqr.R</code> (5 points).</li>
<li>Use bootstrap sampling to build a 95% confidence interval around the IQR value you calculated in step 2 (15 points).</li>
<li>Plot a histogram of your bootstrap sample IQRs. Add red vertical lines that represent the lower and upper bounds of the confidence interval (10 points).</li>
<li>If someone said that the IQR of the population from which this data was sampled is 0.25, what would you say about this claim (5 points)? (Answer in comments if you’re using an R script, or answer in plain text if you are using Rmarkdown)</li>
</ol>
</div>
<div id="alabama-75-points" class="section level2">
<h2>Alabama (75 points)</h2>
<p>Alabama has been a college football dynasty for the past decade. Over that time frame, the program has built a legacy of strong defense that has led to multiple national championships. Now, this year, Alabama is experiencing an offensive resurgence led by sophomore quarterback Tua Tagovailoa. Tua’s rise to the top of the nation’s premier program hasn’t been without controversy. At the start of this season Tua replaced Jalen Hurts as Alabama’s starting quarterback. Jalen has been an excellent quarterback for the Crimson Tide and owns a 26-2 record as a starter. As a true freshman Jalen was named the SEC Offensive Player of the year.</p>
<p>As this current season continues, both quarterbacks remain on the roster, and both have seen meaningful playing time. The question we want to answer is this: <em>does starting Tua make Alabama a better team than starting Jalen?</em> Now, the notion of what makes a “better” team is certainly one that can be debated. In this scenario, we’re going to use Yards Per Point (YPP) Differential, as introduced at the <a href="http://www.sloansportsconference.com/wp-content/uploads/2013/Slides/EOS/Identifying%20an%20accurate%20metric%20for%20football%20efficiency.pdf">MIT Sloan Sports Analytics Conference in 2013</a>.</p>
<p>Yards Per Point Differential is calculated based on Yards Per Point Defense minus Yards Per Point Offense. Yards Per Point Defense is the total yards allowed by a team divided by the total points scored against a team. Yards Per Point Offense is the total number of yards gained by a team divided by the total number of points a team scores.</p>
<p>The <code>alabama.csv</code> file contained in your repository contains the following columns:</p>
<ul>
<li><code>date</code>: date of the game</li>
<li><code>opponent</code>: team Alabama played against</li>
<li><code>starter</code>: name of Alabama’s starting quarterback for the game</li>
<li><code>yards</code>: number of yards gained by Alabama</li>
<li><code>yards_against</code>: number of yards gained by the other team</li>
<li><code>points</code>: number of points scored by Alabama</li>
<li><code>points_against</code>: number of points scored by the other team</li>
</ul>
<p>Given this dataset, the following can be used to calculate Yards Per Point Differential:</p>
<p><span class="math display">\[
YPP_{diff} = YPP_{defense} - YPP_{offense}\\
YPP_{defense} = \frac{\sum \text{yards_against}}{\sum \text{points_against}}\\
YPP_{offense} = \frac{\sum \text{yards}}{\sum \text{points}}
\]</span></p>
<p>With this setup, we have the following hypotheses:</p>
<p><span class="math display">\[
H_0 = \text{Tua }YPP_{diff} = \text{Jalen } YPP_{diff}\\
H_a = \text{Tua }YPP_{diff} \gt \text{Jalen } YPP_{diff}
\]</span></p>
<ol style="list-style-type: decimal">
<li>Read the <code>alabama.csv</code> file in your repository into R (10 points).</li>
<li>Calculate the observed test statistic. That is, Tua’s Yards Per Point Differential minus Jalen’s Yards Per Point Differential. The starter for each game is identified in the <code>starter</code> column (15 points).</li>
<li>Conduct a permutation test of 10,000 permutations to build a distribution of this test statistic under the null hypothesis (20 points).</li>
<li>Create a histogram of your results from step 3. Include a vertical red line indicating the original observed test statistic calculated in step 1 (10 points).</li>
<li>Using the values derived in step 3, calculate the p-value associated with the original observed test statistic calculated in step 1 (10 points).</li>
<li>Build a confidence interval around this p-value (5 points).</li>
<li>Based on the results of your permutation test, what do you conclude (5 points)? (Answer in comments if you’re using an R script, or answer in plain text if you are using Rmarkdown)</li>
</ol>
<div id="make-sure-you-commit-your-changes-to-git-and-push-to-github" class="section level4">
<h4><strong>Make sure you commit your changes to git and push to GitHub</strong></h4>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
